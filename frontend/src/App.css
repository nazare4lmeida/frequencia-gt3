@import url("https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap");

@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================================================
   1. CONFIGURAÇÃO DE TEMA (Obrigatório Tailwind v4)
   ========================================================= */
@theme {
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));
  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));
  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));
  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));
  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));
  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));
  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));
  --color-success: hsl(var(--success));
  --color-success-foreground: hsl(var(--success-foreground));
  --color-warning: hsl(var(--warning));
  --color-warning-foreground: hsl(var(--warning-foreground));
  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));

  --font-sans: "Plus Jakarta Sans", ui-sans-serif, system-ui, sans-serif;

  --animate-pulse-glow: pulse-glow 2s infinite;
  --animate-fade-in: fade-in 0.3s ease-out;
  --animate-slide-in-right: slide-in-right 0.5s ease-out;

  @keyframes pulse-glow {
    0%, 100% { box-shadow: 0 0 0 0 hsl(var(--primary) / 0.4); }
    50% { box-shadow: 0 0 0 10px hsl(var(--primary) / 0); }
  }
  @keyframes fade-in {
    from { opacity: 0; transform: scale(0.95); }
    to { opacity: 1; transform: scale(1); }
  }
  @keyframes slide-in-right {
    from { transform: translateX(100%); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
  }
}

/* =========================================================
   2. VARIÁVEIS DE DESIGN (CSS PURO)
   ========================================================= */
@layer base {
  :root {
    --background: 220 27% 98%;
    --foreground: 222 84% 10%;
    --card: 0 0% 100%;
    --card-foreground: 222 84% 10%;
    --primary: 172 78% 21%;
    --primary-foreground: 0 0% 100%;
    --secondary: 210 40% 96%;
    --secondary-foreground: 222 47% 11%;
    --muted: 210 40% 96%;
    --muted-foreground: 215 16% 47%;
    --success: 160 84% 39%;
    --success-foreground: 0 0% 100%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    --border: 214 32% 91%;
    --header-bg: 0 0% 100% / 0.85;
    --shadow-md: 0 4px 6px -1px hsl(0 0% 0% / 0.07);
  }

  .dark {
    --background: 222 84% 5%;
    --foreground: 210 40% 98%;
    --card: 222 47% 11%;
    --card-foreground: 210 40% 98%;
    --primary: 172 50% 35%;
    --secondary: 217 33% 17%;
    --border: 217 33% 20%;
    --header-bg: 222 84% 5% / 0.9;
  }

  * { border-color: hsl(var(--border)); }
  body {
    @apply bg-background text-foreground font-sans antialiased;
    font-family: "Plus Jakarta Sans", system-ui, sans-serif;
  }
}

/* =========================================================
   3. UTILITÁRIOS (DEFINIDOS ANTES DO USO NO LAYOUT)
   ========================================================= */
.glass {
  background: hsl(var(--card) / 0.8);
  backdrop-filter: blur(24px);
}

.glass-header {
  background: hsl(var(--header-bg));
  backdrop-filter: blur(12px);
}

.shadow-card { box-shadow: var(--shadow-md); }

/* =========================================================
   4. CLASSES DE LAYOUT (COMPONENTES)
   ========================================================= */
.app-wrapper {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

header {
  @apply glass-header border-b px-6 py-4 flex justify-between items-center sticky top-0 z-50;
}

.content-grid {
  @apply flex-1 p-6 grid gap-6 max-w-6xl mx-auto w-full;
}

.aula-card {
  @apply glass p-8 rounded-2xl border shadow-card flex flex-col items-center justify-center text-center;
}

.historico-container {
  @apply glass p-6 rounded-2xl border shadow-card overflow-x-auto;
}

.btn-ponto {
  @apply px-10 py-5 rounded-full font-bold text-xl transition-all active:scale-95 shadow-md;
}
.btn-ponto.in { @apply bg-success text-success-foreground hover:opacity-90; }
.btn-ponto.out { @apply bg-destructive text-destructive-foreground hover:opacity-90; }

.animate-pulse-glow { animation: pulse-glow 2s infinite; }

.historico-table { @apply w-full border-collapse text-sm; }
.historico-table th { @apply p-3 border-b text-muted-foreground font-medium uppercase text-left; }
.historico-table td { @apply p-3 border-b; }

.modal-overlay { @apply fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[100] p-4; }
.modal-content { @apply glass p-8 rounded-3xl border shadow-xl max-w-sm w-full animate-fade-in; }

.custom-popup {
  @apply fixed top-4 right-4 px-6 py-3 rounded-xl shadow-lg z-[200] font-bold animate-slide-in-right;
}
.custom-popup.sucesso { @apply bg-success text-success-foreground; }
.custom-popup.erro { @apply bg-destructive text-destructive-foreground; }

.login-container { @apply min-h-screen flex items-center justify-center p-4; }
.login-card { @apply glass p-8 rounded-3xl border shadow-2xl w-full max-w-xs flex flex-col gap-4 animate-fade-in; }
.login-card input { @apply w-full p-3 rounded-xl border bg-background/50 outline-none focus:ring-2 focus:ring-primary; }

.btn-primary { @apply bg-primary text-primary-foreground px-6 py-3 rounded-xl font-bold hover:opacity-90; }
.btn-secondary { @apply bg-secondary text-secondary-foreground px-4 py-2 rounded-lg text-sm; }